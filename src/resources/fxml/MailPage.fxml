<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="800.0" prefWidth="1280.0" styleClass="main-background" stylesheets="@../css/MailPage.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.controller.MailController">

    <left>
        <VBox prefWidth="250.0" spacing="10" styleClass="sidebar">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>
            
            <Label styleClass="app-title" text="MESSAGGISTICA" />
            
            <Button maxWidth="1.7976931348623157E308" onAction="#showCompose" styleClass="btn-compose" text="âœï¸  Nuova Email" />
            
            <Separator prefWidth="200.0">
                <VBox.margin>
                    <Insets bottom="10.0" top="10.0" />
                </VBox.margin>
            </Separator>
            
            <Label styleClass="sidebar-section-label" text="CARTELLE" />
            
            <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="nav-item">
                <Button maxWidth="1.7976931348623157E308" onAction="#showMailRicevute" styleClass="btn-nav" text="ðŸ“¥  Inbox" HBox.hgrow="ALWAYS" />
                <Label fx:id="mailNonLette" styleClass="badge" text="3" />
            </HBox>

            <Button maxWidth="1.7976931348623157E308" onAction="#showMailInviate" styleClass="btn-nav" text="ðŸ“¤  Inviate" />
            
            <Region VBox.vgrow="ALWAYS" /> 
            
            <Button fx:id="bottoneIndietro" maxWidth="1.7976931348623157E308" onAction="#indietro" styleClass="btn-back" text="â¬… Torna alla Home" />
        </VBox>
    </left>

    <center>
        <VBox prefWidth="400.0" spacing="15.0" styleClass="mail-list-container" BorderPane.alignment="CENTER">
            <padding>
                <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
            </padding>
            
            <Label fx:id="headerLabel" styleClass="section-header" text="Posta in arrivo" />
            
            <TextField fx:id="searchMailBar" promptText="ðŸ” Cerca email..." styleClass="search-bar" />
            
            <ListView fx:id="listaMail" styleClass="custom-list-view" VBox.vgrow="ALWAYS" />
        </VBox>
    </center>

    <right>
        <StackPane prefWidth="600.0" style="-fx-background-color: white;">
            <VBox fx:id="letturaPanel" spacing="20.0" styleClass="content-panel">
                <padding>
                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                </padding>
                <Label alignment="CENTER" maxHeight="Infinity" styleClass="placeholder-text" text="Seleziona un'email per leggerla" textAlignment="CENTER" wrapText="true" VBox.vgrow="ALWAYS" />
            </VBox>

            <VBox fx:id="scriviPanel" spacing="15.0" styleClass="content-panel" visible="false">
                <padding>
                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                </padding>
                
                <Label styleClass="section-header" text="Nuovo Messaggio" />
                
                <VBox spacing="5.0">
                    <Label styleClass="field-label" text="A:" />
                    <TextField fx:id="destinatarioField" promptText="indirizzo@email.com" styleClass="input-field" />
                </VBox>
                
                <VBox spacing="5.0">
                    <Label styleClass="field-label" text="Oggetto:" />
                    <TextField fx:id="oggettoField" promptText="Inserisci l'oggetto" styleClass="input-field" />
                </VBox>
                
                <TextArea fx:id="corpoArea" promptText="Scrivi qui il tuo messaggio..." styleClass="input-area" wrapText="true" VBox.vgrow="ALWAYS" />
                
                <HBox alignment="CENTER_RIGHT" spacing="15.0">
                    <Button onAction="#hideCompose" styleClass="btn-secondary" text="Annulla" />
                    <Button onAction="#handleMail" styleClass="btn-primary" text="Invia Messaggio âœˆï¸" />
                </HBox>
            </VBox>
        </StackPane>
    </right>

</BorderPane>
